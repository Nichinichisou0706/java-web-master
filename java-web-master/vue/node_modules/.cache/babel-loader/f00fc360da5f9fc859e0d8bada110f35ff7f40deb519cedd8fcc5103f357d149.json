{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookies from 'js-cookie';\nexport default {\n  name: \"layout\",\n  data() {\n    return {\n      user: Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {}\n    };\n  },\n  created() {\n    this.user = JSON.parse(Cookies.get('user'));\n  },\n  methods: {\n    info() {\n      this.$router.push('/user/info?id=' + this.user.id);\n    },\n    logout() {\n      Cookies.remove('user');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["Cookies","name","data","user","get","JSON","parse","created","methods","info","$router","push","id","logout","remove"],"sources":["src/views/common/layout.vue"],"sourcesContent":["<template>\n    <div>\n\n        <!--头部区域-->\n        <div style=\"height: 60px; line-height: 60px; background-color: white; margin-bottom: 2px; display: flex\" >\n            <div style=\"width: 600px\">\n                <img src=\"@/assets/logo2.png\" alt=\"\" style=\"width: 200px; position: relative; top: 10px; left: 20px\">\n                <span style=\"margin-left: 40px; font-size: 24px\">京城漫游旅游网站</span>\n            </div>\n            <div style=\"flex: 1; text-align: right; padding-right: 20px\">\n                <el-image\n                        style=\"width: 30px; height: 30px; margin-top: 5px; margin-right: 3px \"\n                        :src=\"this.user.cover\"\n                        :preview-teleported=\"true\">\n                </el-image>\n                <el-dropdown>\n                    <el-button size=\"mini\" style=\"cursor: pointer; margin-top: 5px\">\n                        {{user.name}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                    </el-button>\n                    <el-dropdown-menu  slot=\"dropdown\" style=\"margin-top: -5px\">\n                        <el-dropdown-item><div style=\"width: 70px; text-align: center\" @click=\"info\">个人信息</div></el-dropdown-item>\n                        <el-dropdown-item><div style=\"width: 70px; text-align: center\" @click=\"logout\">退出</div></el-dropdown-item>\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </div>\n\n        <!--侧边栏和主体-->\n        <div style=\"display: flex\">\n\n            <!--左侧侧边栏导航-->\n            <div style=\"width: 200px; min-height: calc(100vh - 62px); overflow: hidden; margin-right: 2px; background-color: white\">\n                <el-menu :default-active=\"$route.path\" router class=\"el-menu-demo\">\n                    \n                    <el-submenu index=\"/user\" v-if=\"user.role === '管理员'\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-user\"></i>\n                            <span>用户管理</span>\n                        </template>\n                        <el-menu-item index=\"/user/add\"><i class=\"el-icon-document-add\"></i> 添加用户 </el-menu-item>\n                        <el-menu-item index=\"/user/list\"><i class=\"el-icon-user\"></i> 用户列表 </el-menu-item>\n                        <el-menu-item index=\"/user/update\"><i class=\"el-icon-warning\"></i> 编辑用户 </el-menu-item>\n                    </el-submenu>\n                    <el-submenu index=\"/course\" v-if=\"user.role === '管理员'\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-user\"></i>\n                            <span>景点管理</span>\n                        </template>\n                        <el-menu-item index=\"/course/add\"><i class=\"el-icon-document-add\"></i> 添加景点 </el-menu-item>\n                        <el-menu-item index=\"/course/list\"><i class=\"el-icon-user\"></i> 景点列表 </el-menu-item>\n                        <el-menu-item index=\"/teach/list\"><i class=\"el-icon-goods\"></i> 购买列表 </el-menu-item>\n                        <el-menu-item index=\"/course/update\"><i class=\"el-icon-warning\"></i> 编辑景点信息 </el-menu-item>\n\n                    </el-submenu>\n                    <el-menu-item index=\"/home\" v-if=\"user.role === '用户'\">\n                        <i class=\"el-icon-eleme\"></i>\n                        <span>首页</span>\n                    </el-menu-item>\n                    <el-menu-item index=\"/stu/list\" v-if=\"user.role === '用户'\">\n                        <i class=\"el-icon-user\"></i>\n                        <span>景点预定</span>\n                    </el-menu-item>\n                    <el-submenu index=\"/stu\" v-if=\"user.role === '用户'\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-user\"></i>\n                            <span>用户中心</span>\n                        </template>\n                        \n                        <el-menu-item index=\"/stu/myCourse\"><i class=\"el-icon-user\"></i> 我的行程 </el-menu-item>\n                        <el-menu-item index=\"/stu/myScore\"><i class=\"el-icon-user\"></i> 我的购买 </el-menu-item>\n                    </el-submenu>\n                    <el-submenu index=\"/tea\" v-if=\"user.role === '商家'\">\n                        <template slot=\"title\">\n                            <i class=\"el-icon-user\"></i>\n                            <span>景点中心</span>\n                        </template>\n                        <el-menu-item index=\"/tea/myCourse\"><i class=\"el-icon-user\"></i> 景点信息 </el-menu-item>\n                        <el-menu-item index=\"/tea/score\"><i class=\"el-icon-warning\"></i> 商品录入 </el-menu-item>\n                        <el-menu-item index=\"/tea/manageScore\"><i class=\"el-icon-warning\"></i> 商品管理 </el-menu-item>\n\n                    </el-submenu>\n                </el-menu>\n            </div>\n\n            <!--主体数据-->\n            <div style=\"flex: 1; background-color: white; padding: 10px;\">\n                <router-view/>\n            </div>\n\n        </div>\n\n\n    </div>\n</template>\n\n<script>\n    import Cookies from 'js-cookie';\n    export default {\n        name: \"layout\",\n        data() {\n            return {\n                user: Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {}\n            }\n        },\n\n        created() {\n            this.user = JSON.parse(Cookies.get('user'));\n        },\n\n        methods: {\n\n            info(){\n                this.$router.push('/user/info?id=' + this.user.id);\n            },\n\n            logout(){\n                Cookies.remove('user');\n                this.$router.push('/login');\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";AAgGA,OAAAA,OAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAH,OAAA,CAAAI,GAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAN,OAAA,CAAAI,GAAA;IACA;EACA;EAEAG,QAAA;IACA,KAAAJ,IAAA,GAAAE,IAAA,CAAAC,KAAA,CAAAN,OAAA,CAAAI,GAAA;EACA;EAEAI,OAAA;IAEAC,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA,yBAAAR,IAAA,CAAAS,EAAA;IACA;IAEAC,OAAA;MACAb,OAAA,CAAAc,MAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}