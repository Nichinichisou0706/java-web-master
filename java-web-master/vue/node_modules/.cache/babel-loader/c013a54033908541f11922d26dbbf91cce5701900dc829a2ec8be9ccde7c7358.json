{"ast":null,"code":"import request from \"../../utils/request\";\nimport Cookies from 'js-cookie';\nexport default {\n  name: \"myCourse\",\n  data() {\n    return {\n      tableData: [],\n      user: Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {},\n      params: {\n        username: '',\n        courseCode: '',\n        courseName: '',\n        pageNum: 1,\n        pageSize: 10\n      },\n      searchCourseParams: {\n        teachId: '',\n        studentId: ''\n      }\n    };\n  },\n  //页面加载之后会调用\n  created() {\n    this.user = Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {};\n    this.params.username = this.user.username;\n    this.load();\n  },\n  methods: {\n    load() {\n      request.get(\"/stu/mySearchList\", {\n        params: this.params\n      }).then(res => {\n        if (res.code === '200') {\n          this.tableData = res.data;\n        } else {\n          alert(res.msg);\n        }\n      });\n    },\n    reset() {\n      this.params.courseCode = '';\n      this.params.courseName = '';\n      this.load();\n    },\n    handleDelete(id) {\n      request.delete('/stu/search/delete/' + id).then(res => {\n        if (res.code === '200') {\n          alert(\"退课成功\");\n          this.load();\n        } else {\n          alert(res.msg);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["request","Cookies","name","data","tableData","user","get","JSON","parse","params","username","courseCode","courseName","pageNum","pageSize","searchCourseParams","teachId","studentId","created","load","methods","then","res","code","alert","msg","reset","handleDelete","id","delete"],"sources":["src/views/stu/myCourse.vue"],"sourcesContent":["<template>\n    <div>\n\n        <!--搜索框-->\n        <div style=\"margin-bottom: 15px\">\n            <el-input style=\"width: 240px\" placeholder=\"请输入景点代码\" v-model=\"params.courseCode\"></el-input>\n            <el-input style=\"width: 240px; margin-left: 5px\" placeholder=\"请输入景点名\" v-model=\"params.courseName\"></el-input>\n            <el-button style=\"margin-left: 5px\" type=\"primary\" @click=\"load\"><i class=\"el-icon-search\"></i>&ensp;搜索</el-button>\n            <el-button style=\"margin-left: 5px\" type=\"warning\" @click=\"reset\"><i class=\"el-icon-refresh\"></i>&ensp;重置</el-button>\n        </div>\n\n        <el-table :data=\"tableData\" border stripe>\n            <el-table-column prop=\"teacherName\" label=\"教师姓名\" ></el-table-column>\n            <el-table-column prop=\"courseName\" label=\"课程名\"></el-table-column>\n            <el-table-column prop=\"courseCode\" label=\"课程代码\" ></el-table-column>\n            <el-table-column prop=\"day\" label=\"时间\" ></el-table-column>\n            <el-table-column prop=\"time\" label=\"时间\" ></el-table-column>\n            <el-table-column prop=\"begin\" label=\"起始周\" ></el-table-column>\n            <el-table-column prop=\"end\" label=\"结束周\" ></el-table-column>\n            <el-table-column prop=\"roomName\" label=\"教室\"></el-table-column>\n            <el-table-column fixed=\"right\" label=\"操作\" width=\"150px\">\n                <template #default=\"scope\">\n                    <el-popconfirm title=\"您确定要退课吗?\" @confirm=\"handleDelete(scope.row.id)\">\n                        <template #reference>\n                            <el-button size=\"mini\" type=\"danger\">退课</el-button>\n                        </template>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n\n    </div>\n\n</template>\n\n<script>\n\n    import request from \"../../utils/request\";\n    import Cookies from 'js-cookie';\n\n    export default {\n        name: \"myCourse\",\n        data() {\n            return {\n                tableData: [],\n                user: Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {},\n                params: {\n                    username: '',\n                    courseCode:'',\n                    courseName:'',\n                    pageNum: 1,\n                    pageSize: 10,\n                },\n                searchCourseParams: {\n                    teachId: '',\n                    studentId: '',\n                }\n            }\n        },\n\n        //页面加载之后会调用\n        created() {\n            this.user = Cookies.get('user') ? JSON.parse(Cookies.get('user')) : {};\n            this.params.username = this.user.username;\n            this.load();\n        },\n\n        methods: {\n\n            load() {\n                request.get(\"/stu/mySearchList\", { params: this.params }).then(res => {\n                    if (res.code === '200'){\n                        this.tableData = res.data;\n                    } else {\n                        alert(res.msg);\n                    }\n                })\n            },\n\n            reset() {\n                this.params.courseCode = '';\n                this.params.courseName = '';\n                this.load();\n            },\n\n            handleDelete(id){\n                request.delete('/stu/search/delete/' + id).then(res => {\n                    if (res.code === '200'){\n                        alert(\"退课成功\");\n                        this.load();\n                    } else {\n                        alert(res.msg);\n                    }\n                })\n            },\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AAqCA,OAAAA,OAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,IAAA,EAAAJ,OAAA,CAAAK,GAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAP,OAAA,CAAAK,GAAA;MACAG,MAAA;QACAC,QAAA;QACAC,UAAA;QACAC,UAAA;QACAC,OAAA;QACAC,QAAA;MACA;MACAC,kBAAA;QACAC,OAAA;QACAC,SAAA;MACA;IACA;EACA;EAEA;EACAC,QAAA;IACA,KAAAb,IAAA,GAAAJ,OAAA,CAAAK,GAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAP,OAAA,CAAAK,GAAA;IACA,KAAAG,MAAA,CAAAC,QAAA,QAAAL,IAAA,CAAAK,QAAA;IACA,KAAAS,IAAA;EACA;EAEAC,OAAA;IAEAD,KAAA;MACAnB,OAAA,CAAAM,GAAA;QAAAG,MAAA,OAAAA;MAAA,GAAAY,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAnB,SAAA,GAAAkB,GAAA,CAAAnB,IAAA;QACA;UACAqB,KAAA,CAAAF,GAAA,CAAAG,GAAA;QACA;MACA;IACA;IAEAC,MAAA;MACA,KAAAjB,MAAA,CAAAE,UAAA;MACA,KAAAF,MAAA,CAAAG,UAAA;MACA,KAAAO,IAAA;IACA;IAEAQ,aAAAC,EAAA;MACA5B,OAAA,CAAA6B,MAAA,yBAAAD,EAAA,EAAAP,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACAC,KAAA;UACA,KAAAL,IAAA;QACA;UACAK,KAAA,CAAAF,GAAA,CAAAG,GAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}