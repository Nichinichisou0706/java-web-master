{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"../../utils/request\";\nexport default {\n  name: \"add\",\n  data() {\n    return {\n      form: {},\n      //表单校验规则\n      rules: {\n        courseName: [{\n          required: true,\n          message: '请输入课程名',\n          trigger: 'blur'\n        }],\n        courseCode: [{\n          required: true,\n          message: '请输入课程码',\n          trigger: 'blur'\n        }],\n        begin: [{\n          required: true,\n          message: '请选择开始周',\n          trigger: 'blur'\n        }],\n        end: [{\n          required: true,\n          message: '请选择结束周',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  created() {\n    const id = this.$route.query.id;\n    request.get(\"/course/\" + id).then(res => {\n      this.form = res.data;\n    });\n  },\n  methods: {\n    save() {\n      if (!this.form.id) {\n        this.$notify.error(\"请从课程管理进入该页面哦~\");\n      } else {\n        this.$refs['ruleForm'].validate(valid => {\n          if (valid) {\n            if (Number(this.form.begin) > Number(this.form.end)) {\n              this.$notify.error(\"课程周设置不合理，请检查~\");\n            } else {\n              request.post(\"/course/update\", this.form).then(res => {\n                if (res.code === '200') {\n                  this.$notify.success(\"编辑成功\");\n                  //this.form = {};       这两种方式都是用来清空form\n                  this.$refs['ruleForm'].resetFields();\n                  this.$router.push('/course/list');\n                } else {\n                  this.$notify.error(res.msg);\n                }\n              });\n            }\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","form","rules","courseName","required","message","trigger","courseCode","begin","end","created","id","$route","query","get","then","res","methods","save","$notify","error","$refs","validate","valid","Number","post","code","success","resetFields","$router","push","msg"],"sources":["src/views/course/update.vue"],"sourcesContent":["<template>\n    <div style=\"width: 95%\">\n        <div style=\"margin-bottom: 30px\">编辑课程信息</div>\n        <el-form :inline=\"true\" :model=\"form\" label-width=\"100px\" :rules=\"rules\" ref=\"ruleForm\">\n            <el-form-item label=\"课程名\" prop=\"courseName\">\n                <el-input v-model=\"form.courseName\" placeholder=\"请输入课程名\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"课程代码\" prop=\"courseCode\">\n                <el-input v-model=\"form.courseCode\" placeholder=\"请输入课程代码\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"开始周\" prop=\"begin\">\n                <el-select v-model=\"form.begin\" placeholder=\"请选择开始周\">\n                    <el-option label=\"第一周\" value=\"1\"></el-option>\n                    <el-option label=\"第二周\" value=\"2\"></el-option>\n                    <el-option label=\"第三周\" value=\"3\"></el-option>\n                    <el-option label=\"第四周\" value=\"4\"></el-option>\n                    <el-option label=\"第五周\" value=\"5\"></el-option>\n                    <el-option label=\"第六周\" value=\"6\"></el-option>\n                    <el-option label=\"第七周\" value=\"7\"></el-option>\n                    <el-option label=\"第八周\" value=\"8\"></el-option>\n                    <el-option label=\"第九周\" value=\"9\"></el-option>\n                    <el-option label=\"第十周\" value=\"10\"></el-option>\n                    <el-option label=\"第十一周\" value=\"11\"></el-option>\n                    <el-option label=\"第十二周\" value=\"12\"></el-option>\n                    <el-option label=\"第十三周\" value=\"13\"></el-option>\n                    <el-option label=\"第十四周\" value=\"14\"></el-option>\n                    <el-option label=\"第十五周\" value=\"15\"></el-option>\n                    <el-option label=\"第十六周\" value=\"16\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"结束周\" prop=\"end\">\n                <el-select v-model=\"form.end\" placeholder=\"请选择结束周\">\n                    <el-option label=\"第一周\" value=\"1\"></el-option>\n                    <el-option label=\"第二周\" value=\"2\"></el-option>\n                    <el-option label=\"第三周\" value=\"3\"></el-option>\n                    <el-option label=\"第四周\" value=\"4\"></el-option>\n                    <el-option label=\"第五周\" value=\"5\"></el-option>\n                    <el-option label=\"第六周\" value=\"6\"></el-option>\n                    <el-option label=\"第七周\" value=\"7\"></el-option>\n                    <el-option label=\"第八周\" value=\"8\"></el-option>\n                    <el-option label=\"第九周\" value=\"9\"></el-option>\n                    <el-option label=\"第十周\" value=\"10\"></el-option>\n                    <el-option label=\"第十一周\" value=\"11\"></el-option>\n                    <el-option label=\"第十二周\" value=\"12\"></el-option>\n                    <el-option label=\"第十三周\" value=\"13\"></el-option>\n                    <el-option label=\"第十四周\" value=\"14\"></el-option>\n                    <el-option label=\"第十五周\" value=\"15\"></el-option>\n                    <el-option label=\"第十六周\" value=\"16\"></el-option>\n                </el-select>\n            </el-form-item>\n        </el-form>\n        <div style=\"text-align: center; margin-top: 30px\">\n            <el-button type=\"primary\" @click=\"save\" size=\"medium\">提交</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import request from \"../../utils/request\";\n\n    export default {\n        name: \"add\",\n\n        data() {\n            return {\n                form: {},\n                //表单校验规则\n                rules: {\n                    courseName: [\n                        { required: true, message: '请输入课程名', trigger: 'blur'}\n                    ],\n                    courseCode: [\n                        { required: true, message: '请输入课程码', trigger: 'blur'}\n                    ],\n                    begin: [\n                        { required: true, message: '请选择开始周', trigger: 'blur'}\n                    ],\n                    end: [\n                        { required: true, message: '请选择结束周', trigger: 'blur'}\n                    ],\n                }\n            }\n        },\n\n        created() {\n            const id = this.$route.query.id;\n            request.get(\"/course/\" + id).then(res => {\n                this.form = res.data;\n            });\n        },\n\n        methods: {\n            save() {\n                if (!this.form.id){\n                    this.$notify.error(\"请从课程管理进入该页面哦~\");\n                } else {\n                    this.$refs['ruleForm'].validate((valid) => {\n                        if (valid) {\n                            if (Number(this.form.begin) > Number(this.form.end)) {\n                                this.$notify.error(\"课程周设置不合理，请检查~\");\n                            } else {\n                                request.post(\"/course/update\",this.form).then(res => {\n                                    if (res.code === '200'){\n                                        this.$notify.success(\"编辑成功\");\n                                        //this.form = {};       这两种方式都是用来清空form\n                                        this.$refs['ruleForm'].resetFields();\n                                        this.$router.push('/course/list');\n                                    } else {\n                                        this.$notify.error(res.msg);\n                                    }\n                                })\n                            }\n                        }\n                    })\n                }\n            }\n        }\n    }\n</script>\n\n"],"mappings":";AA2DA,OAAAA,OAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,IAAA;MACA;MACAC,KAAA;QACAC,UAAA,GACA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAC,UAAA,GACA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAE,KAAA,GACA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAG,GAAA,GACA;UAAAL,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EAEAI,QAAA;IACA,MAAAC,EAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAF,EAAA;IACAb,OAAA,CAAAgB,GAAA,cAAAH,EAAA,EAAAI,IAAA,CAAAC,GAAA;MACA,KAAAf,IAAA,GAAAe,GAAA,CAAAhB,IAAA;IACA;EACA;EAEAiB,OAAA;IACAC,KAAA;MACA,UAAAjB,IAAA,CAAAU,EAAA;QACA,KAAAQ,OAAA,CAAAC,KAAA;MACA;QACA,KAAAC,KAAA,aAAAC,QAAA,CAAAC,KAAA;UACA,IAAAA,KAAA;YACA,IAAAC,MAAA,MAAAvB,IAAA,CAAAO,KAAA,IAAAgB,MAAA,MAAAvB,IAAA,CAAAQ,GAAA;cACA,KAAAU,OAAA,CAAAC,KAAA;YACA;cACAtB,OAAA,CAAA2B,IAAA,wBAAAxB,IAAA,EAAAc,IAAA,CAAAC,GAAA;gBACA,IAAAA,GAAA,CAAAU,IAAA;kBACA,KAAAP,OAAA,CAAAQ,OAAA;kBACA;kBACA,KAAAN,KAAA,aAAAO,WAAA;kBACA,KAAAC,OAAA,CAAAC,IAAA;gBACA;kBACA,KAAAX,OAAA,CAAAC,KAAA,CAAAJ,GAAA,CAAAe,GAAA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}